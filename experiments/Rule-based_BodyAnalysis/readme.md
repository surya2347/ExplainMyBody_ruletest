# π§ Rule-based Body Analysis Experiment

μ΄ λ””λ ‰ν† λ¦¬λ” κ·μΉ™ κΈ°λ°(Rule-based) μ²΄ν• λ¶„μ„ μ•κ³ λ¦¬μ¦μ μ‹¤ν— λ° κµ¬ν„ μ½”λ“λ¥Ό λ‹΄κ³  μμµλ‹λ‹¤.  
λ¨Έμ‹ λ¬λ‹ μ—†μ΄, μν•™μ /μƒλ¦¬ν•™μ  μ„κ³„κ°’ λ΅μ§μ„ μ‚¬μ©ν•μ—¬ μΈλ°”λ”” λ°μ΄ν„°λ¥Ό 3λ‹¨κ³„λ΅ λ¶„μ„ν•©λ‹λ‹¤.

---

## π€ Quick Start (μ‚¬μ© λ°©λ²•)

μ΄ μ½”λ“λ¥Ό ν†µν•©ν•κ±°λ‚ ν…μ¤νΈν•λ ¤λ©΄ μ•„λ μ μ°¨λ¥Ό μ„μ—μ„λ¶€ν„° μμ„λ€λ΅ λ”°λ¥΄μ„Έμ”.

### 1. ν™κ²½ μ¤€λΉ„
- Python 3.x ν™κ²½μ΄ ν•„μ”ν•©λ‹λ‹¤.
- λ³„λ„μ μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬(`pip install`)λ” ν•„μ” μ—†μµλ‹λ‹¤.

### 2. ν…μ¤νΈ μ‹¤ν–‰
ν„μ¬ λ””λ ‰ν† λ¦¬μ—μ„ μ•„λ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•μ—¬ μ¦‰μ‹ ν…μ¤νΈ ν•΄λ³Ό μ μμµλ‹λ‹¤.
```bash
python main_test.py
```
> **μ„±κ³µ μ‹:** κ°€μƒμ μ‚¬μ©μ λ°μ΄ν„°μ— λ€ν• λ¶„μ„ κ²°κ³Ό(BMI, μ²΄μ§€λ°©, κ·Όμ΅ λ¶„ν¬, λ°Έλ°μ¤ λ“±)κ°€ ν„°λ―Έλ„μ— μ¶λ ¥λ©λ‹λ‹¤.

### 3. μ½”λ“ μ μ©
λ‹¤λ¥Έ ν”„λ΅μ νΈμ—μ„ μ΄ λ¨λ“μ„ μ‚¬μ©ν•  λ•λ” `integration.py`λ¥Ό importν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.

```python
from integration import BodyCompositionAnalyzer

# 1. λ¶„μ„κΈ° μ΄κΈ°ν™”
analyzer = BodyCompositionAnalyzer(margin=0.10)

# 2. λ°μ΄ν„° μ¤€λΉ„ (λ”•μ…”λ„λ¦¬ μμ‹)
# μ°Έκ³ : constants.BodyCompositionData κ°μ²΄λ¥Ό μ‚¬μ©ν•΄λ„ λ©λ‹λ‹¤.
input_data = {
    "sex": "λ‚¨μ„±", "age": 25, "height_cm": 175, "weight_kg": 70,
    "bmi": 23.1, "fat_rate": 15.2, "smm": 25.4,
    "muscle_seg": {"μ™Όν”": 2.1, "μ¤λ¥Έν”": 2.2, "λΈν†µ": 10.3, "μ™Όλ‹¤λ¦¬": 12.4, "μ¤λ¥Έλ‹¤λ¦¬": 12.5},
    "fat_seg": {"μ™Όν”": 1.1, "μ¤λ¥Έν”": 1.2, "λΈν†µ": 4.3, "μ™Όλ‹¤λ¦¬": 6.4, "μ¤λ¥Έλ‹¤λ¦¬": 6.5}
}

# 3. λ¶„μ„ μ‹¤ν–‰
result = analyzer.analyze_full_pipeline(input_data)

# 4. κ²°κ³Ό μ‚¬μ©
print(f"μ²΄ν• κ²°κ³Ό: {result['stage1_2']['stage2_type']}")
```

---

## π“‚ νμΌ κµ¬μ΅° λ° μ—­ν•  (Checklist)

ν…μ¤νΈ λ‹¨κ³„μ—μ„ κ° νμΌμ΄ μ–΄λ–¤ μ—­ν• μ„ ν•λ”μ§€ ν™•μΈν•μ„Έμ”.

1.  **`integration.py`** (π‘‘ ν•µμ‹¬): μ™Έλ¶€μ—μ„ νΈμ¶ν•λ” λ©”μΈ μ§„μ…μ (Entry Point)μ…λ‹λ‹¤. `analyze_full_pipeline` ν•¨μλ§ μ•λ©΄ λ©λ‹λ‹¤.
2.  **`constants.py`**: BMI, μ²΄μ§€λ°©λ¥  λ“±μ κΈ°μ¤€κ°’(Threshold)μ„ μμ •ν•κ³  μ‹¶λ‹¤λ©΄ μ΄ νμΌμ„ μ—½λ‹λ‹¤.
3.  **`classifiers.py`**: μ„Έλ¶€μ μΈ λ¶„λ¥ λ΅μ§(μ•κ³ λ¦¬μ¦)μ΄ κ¶κΈν•λ‹¤λ©΄ μ΄ νμΌμ„ λ΄…λ‹λ‹¤.
4.  **`main_test.py`**: μ‹¤ν–‰ κ°€λ¥ν• λ°λ¨ νμΌμ…λ‹λ‹¤.

## β οΈ Known Issues / μ£Όμμ‚¬ν•­
- ν„μ¬ 0μΌλ΅ λ‚λ„κΈ° λ“±μ μμ™Έλ” μ²λ¦¬λμ–΄ `0.0` λλ” `"μ• μ μ—†μ"`μΌλ΅ λ°ν™λ©λ‹λ‹¤.
- μ…λ ¥ ν‚¤κ°’μ΄ λ„λ½λ  κ²½μ° κΈ°λ³Έκ°’μΌλ΅ μ²λ¦¬ν•κ±°λ‚ μ—λ¬ λ΅κ·Έλ¥Ό μ¶λ ¥ν•λ„λ΅ λ°©μ–΄ μ½”λ“κ°€ μ‘μ„±λμ–΄ μμµλ‹λ‹¤.
- ν‚¤κ°’μΌλ΅ μ…λ ¥μ΄ λ¶κ°€λ¥ ν•©λ‹λ‹¤. `main_test.py`νμΌ λ‚΄μ `get_test_input_from_inbody` ν•¨μλ¥Ό μ°Έκ³ ν•μ„Έμ”.
